<script src="/socket.io/socket.io.js"></script>
<script src="/javascripts/jquery.js"></script>


<div ng-show="loggedIn">
<h3>List of Cues</h3>
<button class="btn btn-success" ng-click="editEvent('new')" data-toggle="modal" href="#editModal">
<i class="icon-calendar icon-white"></i>&nbsp;Create New Cue</button>
<button class="btn btn-warning" data-toggle="modal" href="#generateModal">
<i class="icon-play icon-white"></i>&nbsp;Simulate Votes</button>
<a class="btn btn-default" href="/admin/#/cue-map">
<i class="icon-map-marker icon-gray"></i>&nbsp;Cue Map</a>


<table class='table table-striped'>
  <thead>
  	<tr>
  	  <th>Cue</th>
          <th>Phone</th>
          <th>State</th>
  	  <th>&nbsp;</th>
  	</tr>
  </thead>
  <tbody>
    <tr ng-repeat='event in events'>
      <td><a href="/events/{{event.shortname}}" target="_results">{{event.name}}</a></td>
      <td>{{event.phonenumber}}</td>
      <td>
        <div class="onoffswitch">
          <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="onoff-{{event._id}}" ng-change="toggleState(event)" ng-model="event.state" ng-true-value="on" ng-false-value="off"/>
          <label class="onoffswitch-label" for="onoff-{{event._id}}">
            <span class="onoffswitch-inner"></span>
            <span class="onoffswitch-switch"></span>
          </label>
       </div>
      </td>
      <td>
        <button role='button' class='btn' ng-click="editEvent(event)" data-toggle="modal" href="#editModal">Edit</button>
        <button role='button' class='btn' ng-click="duplicateEvent(event)" data-toggle="modal" href="#editModal">Duplicate</button>
      </td>
    </tr>
  </tbody>
</table>
<div class="modal hide fade" ng-include="'event-detail.html'" id="editModal" role='dialog'></div>
<div class="modal hide fade" ng-include="'generate-votes.html'" id="generateModal" role='dialog'></div>

</div>
